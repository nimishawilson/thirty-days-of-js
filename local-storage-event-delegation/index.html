<!DOCTYPE html>
<html>

<head>
  <title> local storage and event delegation </title>
  <style>
    
  </style>
</head>


<body>

<div class="wrapper">
<h2> local tapas </h2>
<p> </p>
<ul class="plates">
<li> loading tapas... </li>
</ul>


<form class="add-items">
<input type="text" name="item" placeholder="Item Name" required>
<input type="submit" value="+ Add item">
</form>


</div>


<script>
const addItems = document.querySelector('.add-items');
const itemsList = document.querySelector('.plates');
const items = JSON.parse(localStorage.getItem('items')) || [];

function addItems(e){
e.preventDefault();
const text =  (this.querySelector('[name=item]')).value;
const item = {
    text: text,
    done: false

};
items.push(item);
populateList(items,itemsList);
localStorage.setItem('items',JSON.stringify(items));

this.reset();
}

function populateList(plates = [], platesList){
platesList.innereHTML = plates.map((plate,i) => {
return `
<li>
<input type="checkbox" data-index=${i} id="item${i}" ${plate.done ? 'checked' : ''} />
<label for="item${i}"> ${plate.text}
</label>
</li>
`;
}).join(''); 
}

function toggleDone(e){

}

addItems.addEventListener('submit',addItem);
const checkBoxes = document.querySelectorAll('input');
checkBoxes.forEach(input =>  input.addEventListner('click', () => alert('hiii')))
populateList(items,itemsList);
</script>


</body>

</html>