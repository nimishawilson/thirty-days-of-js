<!DOCTYPE html>

<head>
  <title> Drum kit </title>
  <link rel="stylesheet" type="text/css" href="basic.css" />
</head>

<body style="background-image:url(images/background.jpg)">
  <h1  class="heading"> Drum kit</h1>
  <div class="keys">
    <div data-key="key65" class="key">
      <kbd> A </kbd>
      <span class="sound">clap</span>
    </div>
    <div data-key="key83" class="key">
      <kbd> S </kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="key68" class="key">
      <kbd> D </kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="key70" class="key">
      <kbd> F </kbd>
      <span class="sound">crash</span>
    </div>

    <div data-key="key71" class="key">
      <kbd> G </kbd>
      <span class="sound">bass</span>
    </div>
    <div data-key="key72" class="key">
      <kbd> H </kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="key74" class="key">
      <kbd> J </kbd>
      <span class="sound">clap</span>
    </div>
    <div data-key="key75" class="key">
      <kbd> K </kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="key76" class="key">
      <kbd> L </kbd>
      <span class="sound">snare</span>
    </div>
  </div>

  <audio id="key65" data-key="key65" src="sounds/clap.wav"> </audio>
  <audio id="key83" data-key="key83" src="sounds/snare.mp3"> </audio>
  <audio id="key68" data-key="key68" src="sounds/snare2.wav"> </audio>
  <audio id="key70" data-key="key70" src="sounds/crash.mp3"> </audio>
  <audio id="key71" data-key="key71" src="sounds/kick-bass.mp3"> </audio>
  <audio id="key72" data-key="key72" src="sounds/tom-1.mp3"> </audio>
  <audio id="key74" data-key="key74" src="sounds/tom-2.mp3"> </audio>
  <audio id="key75" data-key="key75" src="sounds/tom-3.mp3"> </audio>
  <audio id="key76" data-key="key76" src="sounds/snare2.wav"> </audio>

  <script>
   
    function playSound(e) {

      const audio = document.querySelector('audio[data-key=key' + e.keyCode + ']');
      const key = document.querySelector('.key[data-key=key' + e.keyCode + ']');
      console.log("audio" + audio)
      if (!audio) return;
      audio.currentTime = 0;
      audio.play();
      key.classList.add('playing');
    }

    function removeTransition(e) {
      if (e.propertyName !== 'transform') return;
      e.target.classList.remove('playing');
    }
    const keys = document.querySelectorAll('.keys');
    keys.forEach(key => key.addEventListener('transitionend', removeTransition));
    window.addEventListener('keydown', playSound);
  </script>
</body>

</html>